# Portfolio Website
自己紹介用の静的サイトです。  
サイト上部に表示される波のシミュレーションを重点的に実装しました。  
[FFT ocean baker](https://github.com/yamasa26/FFT-ocean-baker)でベイクされた画像テクスチャをもとに、シェーダーで波の表現を設定、javascriptで連番のテクスチャ画像をループ処理することで映像化しています。  
<div><video controls src="<https://github.com/yamasa26/yamasa26.github.io/demo.mp4>" muted="false"></video></div>  

## 自慢したいポイント
FFT oceanはリアルな波を再現できることから、主に映像作品やゲームなどで使用される技術です。  
web上で動作するような作品もありますが、ほとんどが波単体の内容です。  
私が調べた限り、webサイトの背景として使用する例はなかったと思います。  
素敵な技術だと思うので、webデザインの表現の一つとして普及したらいいなと思います。
## 各ファイルの説明
### demo.mp4
波が動く様子のデモ動画です。
### ocean.vert
波の形状変形の役割を持つファイルです。  
波の上下の動きは、頂点シェーダーでメッシュの座標を直接操作することで表現されます。  
高さの補間や垂直移動を実装しました。
### ocean.frag
水面の色や光沢を表現するファイルです。  
1. ベイク画像の法線マップの座標を映像化用の座標に変換
2. 視線と水面の角度によって反射強度が変わるフレネル効果の実装
3. 太陽の方角と反射ベクトルの重なりで、光の反射（スペキュラ）を合成
### ocean.js
映像化に必要なループ処理が主な機能のファイルです。
## 改善点
### 1. 4チャンネル合成テクスチャへの変更
FFT ocean baker側の話ですが、3種類のテクスチャ画像を1枚の画像にまとめることでweb上での処理を最適化できます。  
これによって現在より解像度の高い波を同じリソースで生成することができそうです。
### 2. モダンなweb開発への移行
ReactやNext.jsを使ってモダンなweb開発に移行できそうです。  
（能力不足・時間不足で今回はできなかったです）
### 3. 波の表現の追求
シェーダーの各パラメータや環境マップを工夫することで、より現実味のある波が完成しそうです。  
ただ、このさじ加減が結構難しくて職人技な気がします。  

また、すでに用意された動画の波ではなく、シミュレーションの波であることのメリットとして、波をweb上で編集できる点があります。  
この特性を生かして、閲覧時に天候が変化したり、波の荒さが変わるような実装をしたらより良いものになりそうです。

